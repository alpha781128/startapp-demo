@inherits ResetPasswordBase
@implements IDisposable
<!-- Modal -->
<div class="modal fade" id="resetModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog modal-md" role="document">
        <!--Content-->
        <div class="modal-content form-elegant">
            <!--Header-->
            <div class="modal-header text-center">
                <h4 class="modal-title w-100 dark-grey-text font-weight-bold my-0" id="myModalLabel">
                    <strong>@Translate.Keys["ResetPassword"]</strong>
                </h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" @onclick="(()=>CloseLoginModal(true))">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!--Body-->
            <div class="modal-body mx-2">
                <!--Body-->
                <EditForm autocomplete="off" EditContext="EditContext" OnValidSubmit="@ResetPassword">
                    <Blazored.FluentValidation.FluentValidationValidator />

                    <div class="md-form mt-2">
                        <LaInputText type="text" id="UsernameOrEmail" @bind-Value="PasswordReset.UsernameOrEmail" class="form-control" />
                        <label for="UsernameOrEmail">@Translate.Keys["UsernameOrEmail"]</label>
                        <ValidationMessage For="@(() => PasswordReset.UsernameOrEmail)" />
                    </div>

                    <div class="md-form pt-2">
                        <LaInputText type="password" id="Password" @bind-Value="PasswordReset.Password" class="form-control" />
                        <label for="Password">@Translate.Keys["Password"]</label>
                        <ValidationMessage For="@(() => PasswordReset.Password)" />
                    </div>

                    <div class="md-form pt-2">
                        <LaInputText type="password" id="ConfirmPassword" @bind-Value="PasswordReset.ConfirmPassword" class="form-control" />
                        <label for="ConfirmPassword">@Translate.Keys["ConfirmPassword"]</label>
                        <ValidationMessage For="@(() => PasswordReset.ConfirmPassword)" />
                    </div>

                    <div class="md-form pt-2">
                        <InputText id="ResetCode" @bind-Value="PasswordReset.ResetCode" class="form-control" />
                        <ValidationMessage For="@(() => PasswordReset.ResetCode)" />
                    </div>

                    <ValidationSummary style="display:none" />

                    <div class="row">
                        <div class="text-center col mx-0 px-0 mr-2 mb-1">
                            @if (!IsBusy)
                            {
                                <button type="submit" disabled="@(!FormValid)" class="btn blue-gradient btn-block btn-rounded z-depth-1a">@Translate.Keys["Reset"]</button>
                            }
                            else
                            {
                                <button type="submit" disabled="@(!FormValid)" class="disabled btn blue-gradient btn-block btn-rounded z-depth-1a"><span class="spinner-border spinner-border-sm mr-2" role="status" aria-hidden="true"></span>@Translate.Keys["Reset"]...</button>
                            }
                        </div>
                        <div class="text-center col mx-0 px-0 mb-1">
                            <button type="button" disabled="@(IsBusy)" class="btn bg-warning btn-block btn-rounded z-depth-1a" data-dismiss="modal" @onclick="(()=>CloseLoginModal(true))">@Translate.Keys["Cancel"]</button>
                        </div>
                    </div>
                </EditForm>


            </div>


        </div>
        <!--/.Content-->
    </div>
</div>
<!-- Modal -->
